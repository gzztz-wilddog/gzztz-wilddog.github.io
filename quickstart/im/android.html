<!DOCTYPE html>
<html lang="zh-cn">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>快速入门 | 开发文档</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="http://yoursite.com/quickstart/im/android.html">
  <!-- Alternative links -->
  
    
  
  <!-- Icon -->
  <link rel="icon" type="image/png" href="/images/favicon.png" sizes="24x24">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/css/navy.css">
  <!-- endbuild -->
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="开发文档">
  <!-- Open Graph -->
  <meta name="description" content="1 支持版本    环境准备            支持 Android Studio 1.4 以上或者 Eclipse ADT 15.0.0 以上版本        支持 JDK 7.0 以上版本        支持 Android 手机系统 4.0.3以上版本，即 Android SDK 15 以上版本    

2 创建 Wilddog 应用首先，你需要在控制面板中创建应用。请参考  控制面">
<meta property="og:type" content="website">
<meta property="og:title" content="快速入门">
<meta property="og:url" content="http://yoursite.com/quickstart/im/android.html">
<meta property="og:site_name" content="开发文档">
<meta property="og:description" content="1 支持版本    环境准备            支持 Android Studio 1.4 以上或者 Eclipse ADT 15.0.0 以上版本        支持 JDK 7.0 以上版本        支持 Android 手机系统 4.0.3以上版本，即 Android SDK 15 以上版本    

2 创建 Wilddog 应用首先，你需要在控制面板中创建应用。请参考  控制面">
<meta property="og:updated_time" content="2016-11-24T10:05:30.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="快速入门">
<meta name="twitter:description" content="1 支持版本    环境准备            支持 Android Studio 1.4 以上或者 Eclipse ADT 15.0.0 以上版本        支持 JDK 7.0 以上版本        支持 Android 手机系统 4.0.3以上版本，即 Android SDK 15 以上版本    

2 创建 Wilddog 应用首先，你需要在控制面板中创建应用。请参考  控制面">
</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="https://www.wilddog.com" id="logo"></a>
    </h1>
    <nav id="main-nav">
      <a href="javascript:;" class="main-nav-link">概览</a>
      <a href="javascript:;" class="main-nav-link">快速入门</a>
      <a href="javascript:;" class="main-nav-link">完整指南</a>
      <a href="javascript:;" class="main-nav-link">API 文档</a>
      <a href="javascript:;" class="main-nav-link">示例代码</a>
      <a href="javascript:;" class="main-nav-link">控制面板指南</a>
    </nav>
    <div class="header-info pull-right">
        <span class="pull-left"><img src="" alt="" class="img-circle profile-avatar" width="24" height="24"></span>
        <span class="user-email"></span>
        <span class="arr-down icon-48"></span>
        <ul class="drop-menu clearfix">
            <li class="drop-menu-item header-item-profile col-sm-6 text-center">
                <a href="https://www.wilddog.com/info/info" class="header-item-link">
                    <span class="header-item-icon icon-profile">
                      <svg width="24" height="25" viewBox="0 0 512 512"><path d="m281 366c-2 0-4-1-6-2-2-2-2-5-2-7l15-75c0-2 1-3 2-4l129-129c19-19 52-19 71 0 10 9 15 22 15 36 0 13-5 26-15 35l-128 129c-2 1-3 2-4 2l-76 15c0 0-1 0-1 0z m22-79l-12 61 61-12 127-127c7-6 10-15 10-24 0-10-3-19-10-25-13-13-36-13-49 0z m7 73c-3 0-6-2-7-5-1-4-4-8-8-11-3-4-7-6-11-8-4-2-6-6-4-10 1-4 6-6 10-5 6 3 12 7 17 12 4 4 8 10 11 17 1 4-1 8-5 10-1 0-2 0-3 0z m47-9c-4 0-8-3-8-7-2-14-8-26-18-36-10-10-23-16-38-18-4 0-7-4-6-9 0-4 4-7 8-6 18 2 34 10 47 22 12 12 20 28 22 45 1 4-2 8-6 9-1 0-1 0-1 0z m126-126c-4 0-8-3-8-7-2-14-8-26-18-36-10-10-23-16-38-18-4 0-7-4-6-9 0-4 4-7 8-6 18 2 34 9 47 22 12 12 20 28 22 45 1 4-2 8-6 9-1 0-1 0-1 0z m-234-118l-109 0c-5 0-8-3-8-7 0-5 3-8 8-8l109 0c4 0 8 3 8 8 0 4-4 7-8 7z m-55 184c-58 0-106-46-106-103l0-85c0-57 48-103 106-103 59 0 107 46 107 103l0 85c0 57-48 103-107 103z m0-275c-50 0-91 39-91 87l0 85c0 48 41 88 91 88 50 0 91-40 91-88l0-85c0-48-41-87-91-87z m187 489l-373 0c-5 0-8-3-8-7l0-117c0-70 59-127 131-127 5 0 8 3 8 8 0 4-3 7-8 7-64 0-115 50-115 112l0 109 357 0 0-109c0-5 4-8 8-8 4 0 8 3 8 8l0 117c0 4-4 7-8 7z"></path></svg>
                    </span>
                    <span class="header-item-title">个人中心</span>
                </a>
            </li>
            <li class="drop-menu-item header-item-confirm col-sm-6 text-center">
                <a href="https://www.wilddog.com/pay/trade-entry" class="header-item-link">
                    <span class="header-item-icon icon-confirm">
                      <svg width="24" height="25" viewBox="0 0 512 512"><path d="m15 188l-15 0 0-114c0-23 19-42 42-42l257 0c23 0 42 19 42 42l0 66-15 0 0-66c0-15-12-27-27-27l-257 0c-15 0-27 12-27 27z m455 286l-428 0c-23 0-42-19-42-43l0-257c0-23 19-42 42-42l428 0c23 0 42 19 42 42l0 257c0 24-19 43-42 43z m-428-327c-15 0-27 12-27 27l0 257c0 15 12 28 27 28l428 0c15 0 27-13 27-28l0-257c0-15-12-27-27-27l-428 0z m378 195c-22 0-39-18-39-39 0-22 17-39 39-39 21 0 39 17 39 39 0 21-18 39-39 39z m0-63c-14 0-24 11-24 24 0 13 10 24 24 24 13 0 24-11 24-24 0-13-11-24-24-24z"></path></svg>
                    </span>
                    <span class="header-item-title">财务</span>
                </a>
            </li>
            <li class="drop-menu-item header-item-doc col-sm-6 text-center">
                <a href="https://docs.wilddog.com/overview/index.html" class="header-item-link">
                    <span class="header-item-icon icon-icon-v-05">
                      <svg width="24" height="25" viewBox="0 0 512 512"><path d="m100 232l305 0 0 17-305 0z m0 82l305 0 0 17-305 0z m0 83l305 0 0 17-305 0z m152-380c22 0 42 13 50 33 3 6 9 10 16 10l18 0 0 59-167 0 0-59 18 0c6 0 13-4 15-10 9-20 29-33 50-33m0-17c-29 0-54 18-65 43l-35 0 0 93 201 0 0-93-35 0c-11-25-36-43-66-43z m174 503l-348 0c-43 0-78-35-78-78l0-276c0-44 35-79 78-79l48 0 0 17-48 0c-34 0-61 28-61 62l0 276c0 34 27 61 61 61l348 0c34 0 62-27 62-61l0-276c0-34-28-62-62-62l-47 0 0-17 47 0c44 0 79 35 79 79l0 276c0 43-35 78-79 78z"></path></svg>
                    </span>
                    <span class="header-item-title">文档</span>
                </a>
            </li>
            <li class="drop-menu-item header-item-service col-sm-6 text-center">
                <a href="https://www.wilddog.com/account/kf5" class="header-item-link">
                    <span class="header-item-icon icon-service">
                      <svg width="24" height="25" viewBox="0 0 512 512"><path d="m256 16c132 0 240 108 240 240 0 132-108 240-240 240-132 0-240-108-240-240 0-132 108-240 240-240m0-16c-141 0-256 115-256 256 0 141 115 256 256 256 141 0 256-115 256-256 0-141-115-256-256-256z m0 355c-4 0-8-4-8-8l0-24c0-35 10-54 44-78 24-15 36-35 36-59 0-36-32-64-72-64-40 0-72 29-72 64 0 5-3 8-8 8-4 0-8-3-8-8 0-44 39-80 88-80 49 0 88 35 88 80 0 30-14 54-43 72-29 22-37 35-37 65l0 24c0 4-4 8-8 8z m0 79c-4 0-8-3-8-8l0-37c0-4 4-8 8-8 4 0 8 4 8 8l0 37c0 5-4 8-8 8z"></path></svg>
                    </span>
                    <span class="header-item-title">客服工单</span>
                </a>
            </li>
            <li class="drop-menu-item logout col-sm-12 text-center">
                <a href="" class="header-item-link logout-btn">退出登录</a>
            </li>
        </ul>
    </div>
    <ul class="header-user pull-right">
        <li class="pull-left login-tab"><a href="" class="login">登录</a></li>
        <li class="pull-right register-tab"><a href="" class="btn btn-org-empty register">免费注册</a></li>
    </ul>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">
                  快速入门
                  <span class="edit-doc-source">
                    <a href="https://github.com/WildDogTeam/wilddog-doc2/blob/master/source/quickstart/im/android.md" class="edit-doc-link" title="改进本文">
                    <svg version="1.1" width="16px" height="16px" viewBox="200.38 -94.272 16 16">
                      <path fill="#999999" class="github" d="M208.38-94.272c-4.42,0-8,3.671-8,8.202c0,3.63,2.29,6.695,5.47,7.782c0.4,0.072,0.55-0.174,0.55-0.39
                      c0-0.195-0.01-0.841-0.01-1.528c-2.01,0.379-2.53-0.502-2.69-0.964c-0.09-0.236-0.48-0.964-0.82-1.159
                      c-0.28-0.154-0.68-0.533-0.01-0.543c0.63-0.01,1.08,0.595,1.23,0.841c0.72,1.241,1.87,0.892,2.33,0.677
                      c0.07-0.533,0.28-0.892,0.51-1.097c-1.78-0.205-3.64-0.913-3.64-4.05c0-0.892,0.31-1.63,0.82-2.204
                      c-0.08-0.205-0.36-1.046,0.08-2.174c0,0,0.67-0.215,2.2,0.841c0.64-0.185,1.32-0.277,2-0.277s1.36,0.092,2,0.277
                      c1.53-1.066,2.2-0.841,2.2-0.841c0.44,1.128,0.16,1.969,0.08,2.174c0.51,0.574,0.82,1.302,0.82,2.204c0,3.148-1.87,3.845-3.65,4.05
                      c0.29,0.256,0.54,0.748,0.54,1.517c0,1.097-0.01,1.979-0.01,2.256c0,0.215,0.15,0.472,0.55,0.39c3.256-1.127,5.449-4.258,5.45-7.782
                      C216.38-90.601,212.8-94.272,208.38-94.272z"/>
                    </svg><span class="article-edit-link">编辑文档</span></a>
                  </span>
                </h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h2 id="1-支持版本" class="top-heading article-heading"><a href="#1-支持版本" class="headerlink" title="1 支持版本"></a>1 支持版本</h2><div class="env"><br>    <p class="env-title">环境准备</p><br>    <ul><br>        <li>支持 Android Studio 1.4 以上或者 Eclipse ADT 15.0.0 以上版本</li><br>        <li>支持 JDK 7.0 以上版本</li><br>        <li>支持 Android 手机系统 4.0.3以上版本，即 Android SDK 15 以上版本</li><br>    </ul><br></div>

<h2 id="2-创建-Wilddog-应用" class="article-heading"><a href="#2-创建-Wilddog-应用" class="headerlink" title="2 创建 Wilddog 应用"></a>2 创建 Wilddog 应用</h2><p>首先，你需要在控制面板中创建应用。请参考  <a href="/console/creat.html">控制面板-创建应用</a>。</p>
<h2 id="3-安装-SDK" class="article-heading"><a href="#3-安装-SDK" class="headerlink" title="3 安装 SDK"></a>3 安装 SDK</h2><ol>
<li>安装 Wilddog IM SDK：<br>Android Studio 使用 Gradle 添加 Wilddog IM 的依赖。在你的 build.gradle 添加：</li>
</ol>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><div class="line">compile <span class="string">&apos;com.wilddog.client:wilddog-IM-android:<span class="android-auth-version"></span>&apos;</span></div></pre></td></tr></tbody></table></figure>

<ol>
<li>工程配置<br>Wilddog IM 解决方案在 Android 上需要 android.permission.INTERNET 权限。你需要在 AndroidMainfest.xml 文件添加：<figure class="highlight"><table><tr><td class="code"><pre><div class="line"> &lt;uses-permission android:name="android.permission.MOUNT_UNMOUNT_FILESYSTEMS" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.INTERNET" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.READ_PHONE_STATE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.WAKE_LOCK" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.GET_TASKS" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.READ_LOGS" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.CAMERA" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.VIBRATE" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.BROADCAST_STICKY" /&gt;</div><div class="line">   &lt;uses-permission android:name="android.permission.RECEIVE_USER_PRESENT" /&gt;</div><div class="line">   &lt;uses-feature android:name="android.hardware.camera" /&gt;</div><div class="line">   &lt;uses-feature android:name="android.hardware.camera.autofocus" /&gt;</div><div class="line">    &lt;!--小米push权限--&gt;</div><div class="line">  &lt;permission android:name="YOUR_PACKAGE_NAME.permission.MIPUSH_RECEIVE" android:protectionLevel="signature" /&gt;</div><div class="line">   &lt;uses-permission android:name="YOUR_PACKAGE_NAME.permission.MIPUSH_RECEIVE" /&gt;</div><div class="line"></div><div class="line">  &lt;application</div><div class="line">       &lt;!-- push 图标--&gt; </div><div class="line">       android:icon="@mipmap/wildicon" &gt;</div><div class="line"></div><div class="line">  &lt;provider</div><div class="line">           android:authorities="com.wilddog.provider"</div><div class="line">           android:name=".wildim.core.db.WildDBProvider"</div><div class="line">           android:exported="true"</div><div class="line">           /&gt;</div><div class="line"></div><div class="line">      &lt;!--wilddogsync 中的广播接受者--&gt;</div><div class="line">  &lt;receiver android:name="com.wilddog.client.receiver.WilddogAuthCastReceiver"&gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.wilddog.wilddogauth.signinsuccess"/&gt;</div><div class="line">               &lt;action android:name="com.wilddog.wilddogauth.signoutsuccess"/&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">       &lt;/receiver&gt;</div><div class="line"></div><div class="line">  &lt;!--华为：--&gt;</div><div class="line">   &lt;!-- 第三方相关 :接收Push消息（注册、Push消息、Push连接状态、标签，LBS上报结果）广播 --&gt;</div><div class="line">       &lt;receiver android:name="com.wilddog.wilddogimpush.receiver.WilddogHuaweiPushReceiver" &gt;</div><div class="line">       &lt;intent-filter&gt;</div><div class="line">           &lt;!-- 必须,用于接收token--&gt;</div><div class="line">           &lt;action android:name="com.huawei.android.push.intent.REGISTRATION" /&gt;</div><div class="line">           &lt;!-- 必须，用于接收消息--&gt;</div><div class="line">           &lt;action android:name="com.huawei.android.push.intent.RECEIVE" /&gt;</div><div class="line">           &lt;!-- 可选，用于点击通知栏或通知栏上的按钮后触发onEvent回调--&gt;</div><div class="line">           &lt;action android:name="com.huawei.android.push.intent.CLICK" /&gt;</div><div class="line">           &lt;!-- 可选，查看push通道是否连接，不查看则不需要--&gt;</div><div class="line">           &lt;action android:name="com.huawei.intent.action.PUSH_STATE" /&gt;</div><div class="line">           &lt;!-- 可选，标签、地理位置上报回应，不上报则不需要 --&gt;</div><div class="line">           &lt;action android:name="com.huawei.android.push.plugin.RESPONSE" /&gt;</div><div class="line">       &lt;/intent-filter&gt;</div><div class="line">       &lt;meta-data android:name="CS_cloud_ablitity" android:value="successRateAnalytics"/&gt;</div><div class="line">   &lt;/receiver&gt;</div><div class="line"></div><div class="line">&lt;receiver</div><div class="line">           android:name="com.huawei.android.pushagent.PushEventReceiver"</div><div class="line">           android:process=":pushservice" &gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.huawei.android.push.intent.REFRESH_PUSH_CHANNEL" /&gt;</div><div class="line">               &lt;action android:name="com.huawei.intent.action.PUSH" /&gt;</div><div class="line">               &lt;action android:name="com.huawei.intent.action.PUSH_ON" /&gt;</div><div class="line">               &lt;action android:name="com.huawei.android.push.PLUGIN" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="android.intent.action.PACKAGE_ADDED" /&gt;</div><div class="line">               &lt;action android:name="android.intent.action.PACKAGE_REMOVED" /&gt;</div><div class="line"></div><div class="line">               &lt;data android:scheme="package" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">       &lt;/receiver&gt;</div><div class="line">       &lt;receiver</div><div class="line">           android:name="com.huawei.android.pushagent.PushBootReceiver"</div><div class="line">           android:process=":pushservice" &gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.huawei.android.push.intent.REGISTER" /&gt;</div><div class="line">               &lt;action android:name="android.net.conn.CONNECTIVITY_CHANGE" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">           &lt;meta-data</div><div class="line">               android:name="CS_cloud_version"</div><div class="line">               android:value="\u0032\u0037\u0030\u0035" /&gt;</div><div class="line">       &lt;/receiver&gt;</div><div class="line"></div><div class="line">       &lt;!-- PushSDK:Push服务 --&gt;</div><div class="line">       &lt;service</div><div class="line">           android:name="com.huawei.android.pushagent.PushService"</div><div class="line">           android:process=":pushservice" &gt;</div><div class="line">       &lt;/service&gt;</div><div class="line">   &lt;!--小米 push 服务--&gt;</div><div class="line"></div><div class="line">   &lt;service</div><div class="line">           android:enabled="true"</div><div class="line">           android:process=":pushservice"</div><div class="line">           android:name="com.xiaomi.push.service.XMPushService"/&gt;</div><div class="line">       &lt;service</div><div class="line">           android:name="com.xiaomi.push.service.XMJobService"</div><div class="line">           android:enabled="true"</div><div class="line">           android:exported="false"</div><div class="line">           android:permission="android.permission.BIND_JOB_SERVICE"</div><div class="line">           android:process=":pushservice" /&gt;</div><div class="line">       &lt;!--注：此service必须在3.0.1版本以后（包括3.0.1版本）加入--&gt;</div><div class="line">       &lt;service</div><div class="line">           android:enabled="true"</div><div class="line">           android:exported="true"</div><div class="line">           android:name="com.xiaomi.mipush.sdk.PushMessageHandler" /&gt;</div><div class="line">       &lt;service android:enabled="true"</div><div class="line">           android:name="com.xiaomi.mipush.sdk.MessageHandleService" /&gt;</div><div class="line">       &lt;!--注：此service必须在2.2.5版本以后（包括2.2.5版本）加入--&gt;</div><div class="line">       &lt;receiver</div><div class="line">           android:exported="true"</div><div class="line">           android:name="com.xiaomi.push.service.receivers.NetworkStatusReceiver" &gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="android.net.conn.CONNECTIVITY_CHANGE" /&gt;</div><div class="line">               &lt;category android:name="android.intent.category.DEFAULT" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">       &lt;/receiver&gt;</div><div class="line">       &lt;receiver</div><div class="line">           android:exported="false"</div><div class="line">           android:process=":pushservice"</div><div class="line">           android:name="com.xiaomi.push.service.receivers.PingReceiver" &gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.xiaomi.push.PING_TIMER" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">       &lt;/receiver&gt;</div><div class="line">       &lt;receiver android:name=".wilddogimpush.receiver.WilddogMiPushReceiver"</div><div class="line">           android:exported="true"</div><div class="line">           &gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.xiaomi.mipush.RECEIVE_MESSAGE" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.xiaomi.mipush.MESSAGE_ARRIVED" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line">           &lt;intent-filter&gt;</div><div class="line">               &lt;action android:name="com.xiaomi.mipush.ERROR" /&gt;</div><div class="line">           &lt;/intent-filter&gt;</div><div class="line"></div><div class="line">       &lt;/receiver&gt;</div><div class="line"></div><div class="line"></div><div class="line">       &lt;-- 小米的push服务的APPID 和APPKEY 注意：以M开头加APPID或者AppKey--&gt;  </div><div class="line">       &lt;meta-data</div><div class="line">           android:name="Xiaomi_APPID" android:value="M2882303761517522993" /&gt;</div><div class="line">       &lt;meta-data</div><div class="line">           android:name="Xiaomi_APPKEY"  android:value="M5161752266993" /&gt;</div><div class="line">      &lt;-- 华为的push服务的APPID  注意：以H开头加APPID--&gt;  </div><div class="line">       &lt;meta-data</div><div class="line">           android:name="Huawei_APPID"  android:value="H10710217" /&gt;</div><div class="line">      &lt;-- Wilddog的APPID  注意：以W开头加APPID--&gt;  </div><div class="line">       &lt;meta-data</div><div class="line">           android:name="Wilddog_APPID"  android:value="Wimdemo" /&gt;</div><div class="line">  &lt;/application&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="4-初始化" class="article-heading"><a href="#4-初始化" class="headerlink" title="4 初始化"></a>4 初始化</h2><p>在一切操作之前，必须先进行一次初始化，设置 Wilddog AppID 和 AndroidContext。可以在 onCreate 方法中设置。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line">WilddogIMClient wilddogIMClient = WilddogIMClient.newInstance(context, <span class="string">"APP ID"</span>,<span class="keyword">null</span>);</div></pre></td></tr></table></figure>
<h2 id="5-建立连接" class="article-heading"><a href="#5-建立连接" class="headerlink" title="5 建立连接"></a>5 建立连接</h2><p>Wilddog IM 解决方案会和野狗服务器建立一个长连接，以达到能实时接收消息的目的。你可以通过 addConnectionListener 方法来监听连接状态。调用 connect() 方法来建立连接。<br><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 监听连接状态</span></div><div class="line">wilddogIMClient.addConnectionListener(<span class="keyword">this</span>)</div><div class="line"><span class="comment">// 和野狗服务器建立连接</span></div><div class="line">wilddogIMClient.connect();</div></pre></td></tr></table></figure></p>
<h2 id="6-用户登录" class="article-heading"><a href="#6-用户登录" class="headerlink" title="6 用户登录"></a>6 用户登录</h2><p>一般 APP 都会有自己的用户系统，野狗通过 JWT Token 的方式来集成 APP 已有用户。更多信息请参考 <a href="">用户集成章节</a></p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line">client.signIn(token, <span class="keyword">new</span> WildValueCallBack&lt;WilddogUser&gt;() &#123;</div><div class="line">     <span class="meta">@Override</span></div><div class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(WilddogUser wilddogUser)</span> </span>&#123;</div><div class="line">          <span class="comment">// 登陆成功后的操作</span></div><div class="line">          &#125;</div><div class="line"></div><div class="line">          <span class="meta">@Override</span></div><div class="line">          <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailed</span><span class="params">(<span class="keyword">int</span> code, String des)</span> </span>&#123;</div><div class="line">              Log.e(<span class="string">"result"</span>,des);</div><div class="line">          &#125;</div><div class="line">      &#125;);</div></pre></td></tr></table></figure>
<h2 id="5-发起聊天" class="article-heading"><a href="#5-发起聊天" class="headerlink" title="5 发起聊天"></a>5 发起聊天</h2><p>聊天分为单聊和讨论组，野狗 IM 解决方案不严格区分它们，当集合为单个userId的时候为单聊，当集合大于1的时候则生成群聊，不需要传入当前用户。<br><figure class="highlight java"><table><tr><td class="code"><pre><div class="line">Conversation conversation = WilddogIMClient.newConversation(Array.asList(<span class="string">"user id"</span>));</div><div class="line">String messageText = <span class="string">"Hi! How are you"</span>;</div><div class="line">TextMessage message = Message.newMessage(messageText);</div><div class="line">conversation.send(message);</div></pre></td></tr></table></figure></p>
<p>##6 接收消息</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 注册接收监听</span></div><div class="line">client.addMessageListener(listener);</div><div class="line"></div><div class="line"><span class="comment">//实现监听方法</span></div><div class="line"></div><div class="line"><span class="keyword">private</span> WilddogIMClient.WilddogIMMessageListener listener=<span class="keyword">new</span> WilddogIMClient.WilddogIMMessageListener() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNewMessage</span><span class="params">(List&lt;com.wilddog.wildim.message.Message&gt; messages)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span>(com.wilddog.wildim.message.Message wildMessage:messages)&#123;</div><div class="line">            <span class="keyword">switch</span> (message.getMessageType()) &#123;</div><div class="line"></div><div class="line">            <span class="keyword">case</span> TEXT:</div><div class="line">            <span class="comment">//文本消息</span></div><div class="line">            TextMessage textMessage = (TextMessage)message;</div><div class="line"></div><div class="line">            <span class="keyword">case</span> IMAGE:</div><div class="line">            <span class="comment">//图片消息</span></div><div class="line">            ImageMessage imageMessage = (ImageMessage)message;</div><div class="line"></div><div class="line">            <span class="keyword">case</span> VOICE:</div><div class="line">            <span class="comment">//语音消息</span></div><div class="line">            VoiceMessage voiceMessage = (VoiceMessage)message;</div><div class="line"></div><div class="line">           &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
                <time class="article-footer-updated" datetime="2016-11-24T10:05:30.000Z" itemprop="dateModified">上次更新：2016-11-24</time>
              </div>
              <div class="toc-content">
                <aside id="article-toc" role="navigation">
                  <div class="toc-scroll-content">
                    <div class="toc-inner">
                      <span class="slide-dot"></span>
                      <div id="article-toc-inner">
                        <strong class="sidebar-title">目录</strong>
                        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-支持版本"><span class="toc-text">1 支持版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-创建-Wilddog-应用"><span class="toc-text">2 创建 Wilddog 应用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-安装-SDK"><span class="toc-text">3 安装 SDK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-初始化"><span class="toc-text">4 初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-建立连接"><span class="toc-text">5 建立连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-用户登录"><span class="toc-text">6 用户登录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-发起聊天"><span class="toc-text">5 发起聊天</span></a></li></ol>
                      </div>
                    </div>
                  </div>
                </aside>
                <div class="toc-link-title"></div>
              </div>
              <footer class="article-footer">
                <a href="/quickstart/sync/web.html" class="article-footer-next" title="Web"><span class='page-title'>Web<img src='/images/arr-right.svg' class='arr-icon'></span></a>
              </footer>
              <div class="novice novice-register text-center">
                <span class="close-novice"></span>
                <img src="/images/light.svg" width="52" height="56" alt="" class="light">
                <div class="novice-title">野狗新手？</div>
                <div class="register-text">立即注册，为你提供安全可靠的实时通信云服务。</div>
                <div class="btn-group">
                  <a href="https://www.wilddog.com/my-account/signup?next=https://docs.wilddog.com" class="btn btn-org-full register-link">免费注册</a>
                </div>
              </div>
              <div class="novice novice-help text-center">
                <span class="close-novice"></span>
                <img src="/images/light.svg" width="52" height="56" alt="" class="light">
                <div class="novice-title">没找到需要的文档？</div>
                <div class="register-text">你可以提交工单反馈 或 阅读常见问题</div>
                <div class="btn-group">
                  <a href="https://www.wilddog.com/account/kf5" target="_blank" class="btn btn-org-empty service-link">客服工单</a><a href="https://wilddog.kf5.com/hc" target="_blank" class="btn btn-gray question-link">常见问题</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
  <ul class='sidebar-nav'><li class='sidebar-nav-item'><strong class="sidebar-title">实时数据同步</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/sync/web.html" class="sidebar-link" title= Web><span class="sidebar-link-text">Web</span></a><li class='sublist-item'><a href="/quickstart/sync/android.html" class="sidebar-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/sync/ios.html" class="sidebar-link" title= iOS><span class="sidebar-link-text">iOS</span></a><li class='sublist-item'><a href="/quickstart/sync/c.html" class="sidebar-link" title= C/嵌入式><span class="sidebar-link-text">C/嵌入式</span></a><li class='sublist-item'><a href="/quickstart/sync/rest.html" class="sidebar-link" title= REST><span class="sidebar-link-text">REST</span></a><li class='sublist-item'><a href="/quickstart/sync/wechat.html" class="sidebar-link" title= 微信小程序><span class="sidebar-link-text">微信小程序</span><img src="/images/new.svg" class="icon-new" width="34" height="15"></a><li class='sublist-item'><a href="/quickstart/sync/rule.html" class="sidebar-link" title= 规则表达式><span class="sidebar-link-text">规则表达式</span></a></ul></li><li class='sidebar-nav-item'><strong class="sidebar-title">实时视频通话</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/video/web.html" class="sidebar-link" title= Web><span class="sidebar-link-text">Web</span></a><li class='sublist-item'><a href="/quickstart/video/android.html" class="sidebar-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/video/ios.html" class="sidebar-link" title= iOS><span class="sidebar-link-text">iOS</span></a></ul></li><li class='sidebar-nav-item'><strong class="sidebar-title">即时通讯</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/im/Android.html" class="sidebar-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/im/ios.html" class="sidebar-link" title= iOS><span class="sidebar-link-text">iOS</span></a></ul></li><li class='sidebar-nav-item'><strong class="sidebar-title">身份认证</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/auth/web.html" class="sidebar-link" title= Web><span class="sidebar-link-text">Web</span></a><li class='sublist-item'><a href="/quickstart/auth/android.html" class="sidebar-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/auth/ios.html" class="sidebar-link" title= iOS><span class="sidebar-link-text">iOS</span></a><li class='sublist-item'><a href="/quickstart/auth/wechat.html" class="sidebar-link" title= 微信小程序><span class="sidebar-link-text">微信小程序</span><img src="/images/new.svg" class="icon-new" width="34" height="15"></a></ul></li></ul>
  <div class="old-doc"><a href="https://z.wilddog.com/overview/introduction?_ga=1.201538585.947321584.1476265715" class="old-doc-link">回到旧版文档<span class="back-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="9.715" height="9.078" viewBox="0 0 9.715 9.078"><defs><path id="a" d="M0 0h9.715v9.078H0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" fill="none" stroke="#666" stroke-width=".7" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M9.365.35v5.624H.741"/><path clip-path="url(#b)" fill="none" stroke="#666" stroke-width=".7" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M3.104 8.728L.35 5.974l2.754-2.755"/></svg></span></a></div>
  </div>
</aside>
    </div>
    <div class="back-top-content">
      <div class="back-top"></div>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
  <!--   <div id="footer-copyright">
    &copy; 2016 <a href="https://www.wilddog.com/" target="_blank">野狗</a><br>
  </div> -->
    <div id="footer-links">
		<a href="/overview/index.html" class="footer-link">文档</a>
		<a href="https://www.wilddog.com/download" class="footer-link">SDK下载</a>
		<a href="https://www.wilddog.com/product/pricing" class="footer-link">价格</a>
		<a href="https://life.wilddog.com/wilddog-contact.html" class="footer-link">联系我们</a>
		<a href="https://wilddog.kf5.com/user/login/?_ga=1.257821899.1360428381.1464868258" class="footer-link">客服工单</a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      
      <li class="mobile-nav-item">
        <a href="https://github.com/" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <ul class='sidebar-nav'><li class='sidebar-nav-item'><strong class="mobile-nav-title">实时数据同步</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/sync/web.html" class="mobile-nav-link" title= Web><span class="sidebar-link-text">Web</span></a><li class='sublist-item'><a href="/quickstart/sync/android.html" class="mobile-nav-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/sync/ios.html" class="mobile-nav-link" title= iOS><span class="sidebar-link-text">iOS</span></a><li class='sublist-item'><a href="/quickstart/sync/c.html" class="mobile-nav-link" title= C/嵌入式><span class="sidebar-link-text">C/嵌入式</span></a><li class='sublist-item'><a href="/quickstart/sync/rest.html" class="mobile-nav-link" title= REST><span class="sidebar-link-text">REST</span></a><li class='sublist-item'><a href="/quickstart/sync/wechat.html" class="mobile-nav-link" title= 微信小程序><span class="sidebar-link-text">微信小程序</span><img src="/images/new.svg" class="icon-new" width="34" height="15"></a><li class='sublist-item'><a href="/quickstart/sync/rule.html" class="mobile-nav-link" title= 规则表达式><span class="sidebar-link-text">规则表达式</span></a></ul></li><li class='sidebar-nav-item'><strong class="mobile-nav-title">实时视频通话</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/video/web.html" class="mobile-nav-link" title= Web><span class="sidebar-link-text">Web</span></a><li class='sublist-item'><a href="/quickstart/video/android.html" class="mobile-nav-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/video/ios.html" class="mobile-nav-link" title= iOS><span class="sidebar-link-text">iOS</span></a></ul></li><li class='sidebar-nav-item'><strong class="mobile-nav-title">即时通讯</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/im/Android.html" class="mobile-nav-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/im/ios.html" class="mobile-nav-link" title= iOS><span class="sidebar-link-text">iOS</span></a></ul></li><li class='sidebar-nav-item'><strong class="mobile-nav-title">身份认证</strong><ul class='sublist'><li class='sublist-item'><a href="/quickstart/auth/web.html" class="mobile-nav-link" title= Web><span class="sidebar-link-text">Web</span></a><li class='sublist-item'><a href="/quickstart/auth/android.html" class="mobile-nav-link" title= Android><span class="sidebar-link-text">Android</span></a><li class='sublist-item'><a href="/quickstart/auth/ios.html" class="mobile-nav-link" title= iOS><span class="sidebar-link-text">iOS</span></a><li class='sublist-item'><a href="/quickstart/auth/wechat.html" class="mobile-nav-link" title= 微信小程序><span class="sidebar-link-text">微信小程序</span><img src="/images/new.svg" class="icon-new" width="34" height="15"></a></ul></li></ul>
    
  </div>

</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/js/localstorage.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<script src="/js/ui.js"></script>
<!-- endbuild -->

<!-- Google Tag Manager -->
<script>
window.addEventListener('load', function() {
    (function(w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start': new Date().getTime(),
            event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            '//www.wilddog.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-53PGC2');
})
</script>
<!-- End Google Tag Manager -->

<!-- Algolia -->
<script src = "https://cdn.wilddog.com/sdk/js/2.0.0/wilddog-sync.js" ></script>

</body>
</html>